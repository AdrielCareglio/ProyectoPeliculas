(function(){"use strict";var e={5858:function(e,n,r){var o=r(5130),t=r(7996),i=r(6400);const a={apiKey:"AIzaSyA7AQ5FFe4h5CFdo6CyB2IDFDkzMj5l47A",authDomain:"adrielpeliculas.firebaseapp.com",projectId:"adrielpeliculas",storageBucket:"adrielpeliculas.firebasestorage.app",messagingSenderId:"247923763712",appId:"1:247923763712:web:d5e98a4fdc8e340bcc86e5"},s=(0,i.Wp)(a);var l=r(6768),c=r(4232);const u={id:"app"},d={key:0},v={class:"container"},g={key:0},p={class:"user-info"};function h(e,n,r,o,t,i){const a=(0,l.g2)("LoadingScreen"),s=(0,l.g2)("LoginForm"),h=(0,l.g2)("GenreSelection"),f=(0,l.g2)("MovieResults");return(0,l.uX)(),(0,l.CE)("div",u,["loading"!==t.screen?((0,l.uX)(),(0,l.CE)("header",d,[(0,l.Lk)("div",v,[(0,l.Lk)("h1",{class:"logo",onClick:n[0]||(n[0]=(...e)=>i.goToGenreSelection&&i.goToGenreSelection(...e))},"NOTFLIX")]),t.user?((0,l.uX)(),(0,l.CE)("div",g,[(0,l.Lk)("span",p,"Bienvenido, "+(0,c.v_)(t.user.email),1),(0,l.Lk)("button",{class:"logout",onClick:n[1]||(n[1]=(...e)=>i.logout&&i.logout(...e))},"Cerrar sesión")])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),"loading"===t.screen?((0,l.uX)(),(0,l.Wv)(a,{key:1})):(0,l.Q3)("",!0),"login"===t.screen?((0,l.uX)(),(0,l.Wv)(s,{key:2,onAuthenticated:i.handleLogin},null,8,["onAuthenticated"])):(0,l.Q3)("",!0),"genres"===t.screen?((0,l.uX)(),(0,l.Wv)(h,{key:3,onSubmit:i.handleGenreSelection},null,8,["onSubmit"])):(0,l.Q3)("",!0),"results"===t.screen?((0,l.uX)(),(0,l.Wv)(f,{key:4,movies:t.filteredMovies,onGoBack:i.goToGenreSelection},null,8,["movies","onGoBack"])):(0,l.Q3)("",!0)])}r(8992),r(4520);const f={class:"loading-screen"};function m(e,n,r,o,t,i){return(0,l.uX)(),(0,l.CE)("div",f,n[0]||(n[0]=[(0,l.Lk)("img",{src:"https://cdn.dribbble.com/users/4011649/screenshots/10677615/media/948d65ef147246f25e31d44b9a59e660.gif",alt:"Cargando..."},null,-1)]))}var k={name:"LoadingScreen"},b=r(1241);const C=(0,b.A)(k,[["render",m],["__scopeId","data-v-7376134f"]]);var L=C,y=r(144),E=r(3325),I=r(6971),w={__name:"RegisterForm",emits:["switchToLogin"],setup(e,{emit:n}){const r=n,t=(0,y.KR)(""),i=(0,y.KR)("");async function a(){const e=(0,I.xI)();try{await(0,I.eJ)(e,t.value,i.value),alert("Usuario registrado con éxito"),r("switchToLogin")}catch(n){console.error("Error al registrar usuario:",n),alert("Error: "+n.message)}}return(e,n)=>((0,l.uX)(),(0,l.CE)("div",null,[n[5]||(n[5]=(0,l.Lk)("h2",null,"Registro",-1)),(0,l.Lk)("form",{onSubmit:(0,o.D$)(a,["prevent"])},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),type:"email",placeholder:"Email",required:""},null,512),[[o.Jo,t.value]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>i.value=e),type:"password",placeholder:"Contraseña",required:""},null,512),[[o.Jo,i.value]]),n[4]||(n[4]=(0,l.Lk)("button",{type:"submit"},"Registrarse",-1)),(0,l.Lk)("p",null,[n[3]||(n[3]=(0,l.eW)("¿Ya tienes una cuenta? ")),(0,l.Lk)("a",{onClick:n[2]||(n[2]=(0,o.D$)((e=>r("switchToLogin")),["prevent"])),href:"#"},"Inicia sesión")])],32)]))}};const G=w;var _=G;const S={class:"login"},X={key:0},A={key:1},O={key:2},R={key:3};var F={__name:"LoginForm",emits:["authenticated","loggedOut"],setup(e,{emit:n}){const r=n,t=(0,y.KR)(""),i=(0,y.KR)(""),a=(0,E.p)(),s=(0,y.KR)("login");async function u(){const e=(0,I.xI)();try{await(0,I.x9)(e,t.value,i.value),alert("Inicio de sesión exitoso"),r("authenticated"),s.value="dashboard"}catch(n){console.error("Error al iniciar sesión:",n),"auth/user-not-found"===n.code?alert("El usuario no existe. Por favor, verifica el email."):"auth/wrong-password"===n.code?alert("Contraseña incorrecta. Por favor, inténtalo de nuevo."):"auth/invalid-email"===n.code?alert("Email inválido. Por favor, introduce un email válido."):alert("Ocurrió un error inesperado al iniciar sesión.")}}async function d(){const e=(0,I.xI)();try{await(0,I.CI)(e),alert("Has cerrado sesión"),r("loggedOut"),s.value="login"}catch(n){console.error("Error al cerrar sesión:",n),alert("Ocurrió un error inesperado al cerrar sesión.")}}function v(){s.value="register"}function g(){s.value="login"}return(e,n)=>((0,l.uX)(),(0,l.CE)("div",S,["login"===s.value?((0,l.uX)(),(0,l.CE)("div",X,[n[3]||(n[3]=(0,l.Lk)("h2",null,"Iniciar Sesión",-1)),(0,l.Lk)("form",{onSubmit:(0,o.D$)(u,["prevent"])},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),type:"email",placeholder:"Email",required:""},null,512),[[o.Jo,t.value]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>i.value=e),type:"password",placeholder:"Contraseña",required:""},null,512),[[o.Jo,i.value]]),n[2]||(n[2]=(0,l.Lk)("button",{type:"submit"},"Entrar",-1)),(0,l.Lk)("p",null,[(0,l.Lk)("a",{onClick:(0,o.D$)(v,["prevent"]),href:"#"},"Regístrate aquí")])],32)])):"dashboard"===s.value?((0,l.uX)(),(0,l.CE)("div",A,[(0,l.Lk)("h2",null,"Bienvenido, "+(0,c.v_)((0,y.R1)(a)?.email),1),(0,l.Lk)("button",{onClick:d},"Cerrar sesión")])):"register"===s.value?((0,l.uX)(),(0,l.CE)("div",O,[(0,l.bF)(_,{onSwitchToLogin:g})])):((0,l.uX)(),(0,l.CE)("div",R,n[4]||(n[4]=[(0,l.Lk)("p",null,"Error inesperado. Intenta recargar la página.",-1)])))]))}};const T=(0,b.A)(F,[["__scopeId","data-v-3ef12436"]]);var x=T;const M={class:"genre-selection"},j={class:"genres"},B=["onClick"],D=["disabled"];function K(e,n,r,o,t,i){return(0,l.uX)(),(0,l.CE)("div",M,[n[1]||(n[1]=(0,l.Lk)("h2",null,"Selecciona géneros de tu interés",-1)),(0,l.Lk)("div",j,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.availableGenres,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:(0,c.C4)(["genre-card",{selected:t.selectedGenres.includes(e)}]),onClick:n=>i.toggleGenre(e)},(0,c.v_)(e),11,B)))),128))]),(0,l.Lk)("button",{onClick:n[0]||(n[0]=(...e)=>i.submit&&i.submit(...e)),disabled:0===t.selectedGenres.length},"Aceptar",8,D)])}r(4114);var Q={name:"GenreSelection",data(){return{availableGenres:["CIENCIA FICCIÓN","ROMANCE","ACCIÓN","DRAMA","COMEDIA","TERROR"],selectedGenres:[]}},methods:{toggleGenre(e){this.selectedGenres.includes(e)?this.selectedGenres=this.selectedGenres.filter((n=>n!==e)):this.selectedGenres.push(e)},submit(){this.$emit("submit",this.selectedGenres)}}};const q=(0,b.A)(Q,[["render",K],["__scopeId","data-v-5bbdd2dc"]]);var J=q;const N={class:"movie-results"},P={class:"movies"},W=["src","alt"];function $(e,n,r,o,t,i){return(0,l.uX)(),(0,l.CE)("div",N,[n[1]||(n[1]=(0,l.Lk)("h2",null,"Tus Películas Recomendadas",-1)),(0,l.Lk)("div",P,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.movies,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"movie-card"},[(0,l.Lk)("img",{src:e.image,alt:e.title},null,8,W),(0,l.Lk)("h3",null,(0,c.v_)(e.title),1),(0,l.Lk)("p",null,(0,c.v_)(e.genre),1)])))),128))]),(0,l.Lk)("button",{class:"back-button",onClick:n[0]||(n[0]=(...e)=>i.goBack&&i.goBack(...e))},"Volver")])}var U={name:"MovieResults",props:{movies:{type:Array,required:!0}},methods:{goBack(){this.$emit("go-back")}}};const V=(0,b.A)(U,[["render",$],["__scopeId","data-v-57262d9d"]]);var z=V,H={components:{LoadingScreen:L,LoginForm:x,GenreSelection:J,MovieResults:z},data(){return{screen:"loading",genres:[],movies:[],filteredMovies:[],user:(0,E.p)()}},methods:{async loadMovies(){try{const e=await fetch("/movies.json");if(!e.ok)throw new Error("Error al cargar las películas");this.movies=await e.json()}catch(e){console.error("Error al cargar las películas:",e)}},handleLogin(){this.screen="genres"},handleGenreSelection(e){this.genres=e,this.filteredMovies=this.movies.filter((n=>e.includes(n.genre))).slice(0,3),this.screen="results"},goToGenreSelection(){this.screen="genres"},goToLoginForm(){this.screen="login"},async logout(){const e=(0,I.xI)();try{await(0,I.CI)(e),alert("Sesión cerrada con éxito"),this.screen="login"}catch(n){console.error("Error al cerrar sesión:",n),alert("Ocurrió un error al cerrar la sesión.")}}},mounted(){this.loadMovies(),setTimeout((()=>{this.screen="login"}),5e3)}};const Y=(0,b.A)(H,[["render",h],["__scopeId","data-v-0df549e2"]]);var Z=Y;const ee=(0,o.Ef)(Z);ee.use(t.Nz,{firebaseApp:s,modules:[(0,t.zJ)()]}),ee.mount("#app")}},n={};function r(o){var t=n[o];if(void 0!==t)return t.exports;var i=n[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(n,o,t,i){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],t=e[u][1],i=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](o[l])}))?o.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=t();void 0!==c&&(n=c)}}return n}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,t,i]}}(),function(){r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,{a:n}),n}}(),function(){r.d=function(e,n){for(var o in n)r.o(n,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};r.O.j=function(n){return 0===e[n]};var n=function(n,o){var t,i,a=o[0],s=o[1],l=o[2],c=0;if(a.some((function(n){return 0!==e[n]}))){for(t in s)r.o(s,t)&&(r.m[t]=s[t]);if(l)var u=l(r)}for(n&&n(o);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},o=self["webpackChunkproyecto_peliculas"]=self["webpackChunkproyecto_peliculas"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=r.O(void 0,[504],(function(){return r(5858)}));o=r.O(o)})();
//# sourceMappingURL=app.736a6911.js.map